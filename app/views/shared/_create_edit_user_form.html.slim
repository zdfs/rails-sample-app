- if @user.persisted?
  =provide(:title, 'Edit user')
  =provide(:buttonText, 'Save changes')
- else
  =provide(:title, 'Sign Up')
  =provide(:buttonText, 'Create my account')

h1
  =yield(:title)
.row
  .col-md-6.col-md-offset-3
    =form_for @user do |f|
      =render('shared/error_messages', object: f.object)
      =f.label(:name)
      =f.text_field(:name, class: 'form-control')
      =f.label(:email)
      =f.text_field(:email, class: 'form-control')
      =f.label(:password)
      =f.password_field(:password, class: 'form-control')
      =f.label(:password_confirmation, "Confirmation")
      =f.password_field(:password_confirmation, class: 'form-control')
      =f.submit(yield(:buttonText), class: "btn btn-primary")
    end

- if @user.persisted?
  .row
    .col-md-6.col-md-offset-3
      .gravatar_edit
        =gravatar_for(@user)
        a(href="http://gravatar.com/emails" target="_blank") change